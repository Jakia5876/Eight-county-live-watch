<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>World Clocks â€” 8 Cities</title>

<style>
  :root{
    --bg:#160c0b;
    --card:#1f0f0e;
    --gold:#d8b24a;
    --text:#f6e9d6;
  }

  body{
    margin:0;
    font-family:Inter,Arial;
    background:var(--bg);
    color:var(--text);
    padding:28px;
  }

  h1{
    text-align:center;
    margin-bottom:30px;
    font-size:32px;
    letter-spacing:1px;
  }

  /* -------- GRID FIX (4 per row = TWO ROWS) -------- */
  .grid{
    display:grid;
    grid-template-columns:repeat(4, 1fr);
    gap:30px;
    justify-items:center;
  }

  .card{
    background:var(--card);
    border-radius:8px;
    padding:20px;
    text-align:center;
    width:260px;
  }

  .clock-wrap{
    width:240px;
    height:240px;
    margin:auto;
    position:relative;
  }

  canvas.analog{
    width:240px;
    height:240px;
    border-radius:50%;
    background:#0002;
  }

  .city{
    font-weight:700;
    color:var(--gold);
    margin-top:6px;
    font-size:18px;
  }

  .country{
    font-size:13px;
    color:#ccbca3;
  }

  .digital{
    margin-top:10px;
    font-family:"Courier New";
    font-size:14px;
  }
</style>
</head>

<body>
<h1>Live World Clocks</h1>

<div class="grid" id="grid"></div>

<script>
const clocks=[
  {city:"Dhaka",country:"Bangladesh",tz:"Asia/Dhaka"},
  {city:"New York",country:"USA",tz:"America/New_York"},
  {city:"London",country:"UK",tz:"Europe/London"},
  {city:"Toronto",country:"Canada",tz:"America/Toronto"},
  {city:"Sydney",country:"Australia",tz:"Australia/Sydney"},
  {city:"Madrid",country:"Spain",tz:"Europe/Madrid"},
  {city:"Valletta",country:"Malta",tz:"Europe/Malta"},
  {city:"Riyadh",country:"Saudi Arabia",tz:"Asia/Riyadh"}
];

const grid=document.getElementById('grid');

clocks.forEach((c,i)=>{
  const card=document.createElement('div');
  card.className='card';
  card.innerHTML=`
    <div class="clock-wrap">
      <canvas class="analog" id="clock-${i}" width="400" height="400"></canvas>
    </div>
    <div class="city">${c.city}</div>
    <div class="country">(${c.country})</div>
    <div class="digital" id="digital-${i}">--:--:--</div>`;
  grid.appendChild(card);
});

function getTimePartsForTZ(tz){
  const now=new Date();
  const p=new Intl.DateTimeFormat('en-GB',{
    timeZone:tz,
    hour12:false,
    hour:'2-digit',
    minute:'2-digit',
    second:'2-digit'
  }).formatToParts(now);

  const o={hour:0,minute:0,second:0};
  p.forEach(x=>{
    if(x.type==='hour')o.hour=parseInt(x.value);
    if(x.type==='minute')o.minute=parseInt(x.value);
    if(x.type==='second')o.second=parseInt(x.value);
  });
  return o;
}

function drawClock(canvas,h,m,s){
  const ctx=canvas.getContext('2d');
  const cx=canvas.width/2, cy=canvas.height/2, r=160;

  ctx.clearRect(0,0,canvas.width,canvas.height);

  // background circle
  ctx.beginPath();
  ctx.arc(cx,cy,r,0,Math.PI*2);
  ctx.fillStyle='rgba(255,255,255,0.05)';
  ctx.fill();

  // hour/minute ticks + numbers
  ctx.save();
  ctx.translate(cx,cy);

  ctx.font="24px Arial";
  ctx.fillStyle="#fff8";

  for(let i=1;i<=60;i++){
    ctx.rotate(Math.PI/30);

    // minute ticks
    ctx.beginPath();
    ctx.moveTo(0,-r+10);
    ctx.lineTo(0,-r+22);
    ctx.strokeStyle="rgba(255,255,255,0.25)";
    ctx.lineWidth=(i%5===0)?3:1;
    ctx.stroke();

    // hour numbers
    if(i%5===0){
      ctx.save();
      ctx.translate(0,-r+45);
      ctx.rotate(-(Math.PI/30)*i);
      ctx.fillText(i/5, -7, 7);
      ctx.restore();
    }
  }
  ctx.restore();

  function hand(angle,len,w,color){
    ctx.save();
    ctx.translate(cx,cy);
    ctx.rotate(angle);
    ctx.beginPath();
    ctx.lineWidth=w;
    ctx.strokeStyle=color;
    ctx.moveTo(0,0);
    ctx.lineTo(len,0);
    ctx.stroke();
    ctx.restore();
  }

  // hands
  hand(((h%12)+m/60)*Math.PI/6 - Math.PI/2, r*0.55, 6, '#d8b24a');
  hand((m*Math.PI/30) - Math.PI/2, r*0.78, 4, '#ffffff');
  hand((s*Math.PI/30) - Math.PI/2, r*0.85, 2, '#ff4444');
}

function updateAll(){
  clocks.forEach((c,i)=>{
    const t=getTimePartsForTZ(c.tz);
    const canvas=document.getElementById(`clock-${i}`);
    drawClock(canvas,t.hour,t.minute,t.second);

    const p=n=>String(n).padStart(2,'0');
    document.getElementById(`digital-${i}`).textContent=
      `${p(t.hour)}:${p(t.minute)}:${p(t.second)}`;
  });
}

updateAll();
setInterval(updateAll,1000);
</script>
</body>
</html>
